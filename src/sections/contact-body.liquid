<div class="container contact-body__container">
  <div class="contact-body__big-links">
    {% if section.settings.help_link_1_text != empty %}
      {% assign help_1 = section.settings.help_link_1 %}
      {% if section.settings.help_1_is_modal %}
        {% assign help_1 = "contact-modal-1" %}
      {% endif %}

      <a class="contact-body__big-link" href="{{ section.settings.help_link_1 }}">
        <span class="contact-body__big-link-i">{% render 'icon-phone' %}</span>
        <span class="contact-body__big-link-t">{{ section.settings.help_link_1_text }}</span>
      </a>

      {% if section.settings.help_1_is_modal %}
        <div class="contact-body__modal-wrap" id="contact-modal-1">
          <div class="contact-body__modal">
            <p class="contact-body__modal-title">{{ section.settings.modal_1_title }}</p>
            <button class="contact-body__modal-close">
              {% render 'icon-close' %}
            </button>

            <div class="contact-body__modal-buttons">
              {% if section.settings.modal_1_button_1_text != blank %}
                <a class="contact-body__modal-button" href="{{ section.settings.modal_1_button_1 }}">
                  <span class="contact-body__modal-b-i">{% render 'icon-phone' %}</span>
                  <span class="contact-body__modal-b-t">{{ section.settings.modal_1_button_1_text }}</span>
                </a>
              {% endif %}
              {% if section.settings.modal_1_button_2_text != blank %}
                <a class="contact-body__modal-button" href="{{ section.settings.modal_1_button_2 }}">
                  <span class="contact-body__modal-b-i">{% render 'icon-phone' %}</span>
                  <span class="contact-body__modal-b-t">{{ section.settings.modal_1_button_2_text }}</span>
                </a>
              {% endif %}
            </div>

            {% if section.settings.modal_1_note != blank %}
              <p class="contact-body__modal-note">{{ section.settings.modal_1_note }}</p>
            {% endif %}
          </div>
        </div>
      {% endif %}
    {% endif %}

    {% assign help_2 = section.settings.help_link_2 %}
    {% if section.settings.help_2_is_modal %}
      {% assign help_2 = "contact-modal-2" %}
    {% endif %}

    {% if section.settings.help_link_2_text != empty %}
      {% assign help_2 = section.settings.help_link_2 %}
      {% if section.settings.help_2_is_modal %}
        {% assign help_2 = "contact-modal-2" %}
      {% endif %}

      <a class="contact-body__big-link" href="{{ section.settings.help_link_2 }}">
        <span class="contact-body__big-link-i">{% render 'icon-mail' %}</span>
        <span class="contact-body__big-link-t">{{ section.settings.help_link_2_text }}</span>
      </a>

      {% if section.settings.help_2_is_modal %}
        <div class="contact-body__modal-wrap" id="contact-modal-2">
          <div class="contact-body__modal">
            <p class="contact-body__modal-title">{{ section.settings.modal_2_title }}</p>
            <button class="contact-body__modal-close">
              {% render 'icon-close' %}
            </button>

            <div class="contact-body__modal-buttons">
              {% if section.settings.modal_2_button_1_text != blank %}
                <a class="contact-body__modal-button" href="{{ section.settings.modal_2_button_1 }}">
                  <span class="contact-body__modal-b-i">{% render 'icon-phone' %}</span>
                  <span class="contact-body__modal-b-t">{{ section.settings.modal_2_button_1_text }}</span>
                </a>
              {% endif %}
              {% if section.settings.modal_2_button_2_text != blank %}
                <a class="contact-body__modal-button" href="{{ section.settings.modal_2_button_2 }}">
                  <span class="contact-body__modal-b-i">{% render 'icon-phone' %}</span>
                  <span class="contact-body__modal-b-t">{{ section.settings.modal_2_button_2_text }}</span>
                </a>
              {% endif %}
            </div>

            {% if section.settings.modal_2_note != blank %}
              <p class="contact-body__modal-note">{{ section.settings.modal_2_note }}</p>
            {% endif %}
          </div>
        </div>
      {% endif %}
    {% endif %}

    {% if section.settings.help_link_3_text != empty %}
      <a class="contact-body__big-link" href="{{ section.settings.help_link_2 }}">
        <span class="contact-body__big-link-i">{% render 'icon-chat' %}</span>
        <span class="contact-body__big-link-t">{{ section.settings.help_link_3_text }}</span>
      </a>
    {% endif %}
  </div>

  <div class="row">
    {% if section.settings.title != blank %}
      <div class="col-md-5">
        <h3 class="contact-body__form-title">
          {{ section.settings.title }}
        </h3>
      </div>
    {% endif %}

    {% if section.settings.title != blank %}
      <div class="col-md-7">
    {% else %}
      <div class="col-12">
    {% endif %}

      {% form 'contact', class: "contact-body__form" %}

        {% if form.posted_successfully? %}
          <p class="contact-body__success">
            {{ 'contact.form.post_success' | t }}
          </p>
        {% endif %}

        {{ form.errors | default_errors }}

        <label for="ContactFormName" class="hide">{{ 'contact.form.name' | t }}</label>
        <input type="text"
          name="contact[name]"
          id="ContactFormName"
          placeholder="{{ 'contact.form.name' | t }} *"
          value="{% if form[name] %}{{ form[name] }}{% elsif customer %}{{ customer.name }}{% endif %}"
          required />

        <label for="ContactFormEmail" class="hide">{{ 'contact.form.email' | t }}</label>
        <input type="email"
          name="contact[email]"
          id="ContactFormEmail"
          placeholder="{{ 'contact.form.email' | t }} *"
          value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
          spellcheck="false"
          autocomplete="off"
          autocapitalize="off"
          required />

        <label for="ContactFormSubject" class="hide">{{ 'contact.form.subject' | t }} *</label>
        <select id="ContactFormSubject" name="contact[Subject]" required data-custom>
          <option value="" disabled selected hidden>{{ 'contact.form.subject' | t }} *</option>
          <option>{{ 'contact.form.returns' | t }}</option>
          <option>{{ 'contact.form.order' | t }}</option>
          <option>{{ 'contact.form.delivery' | t }}</option>
          <option>{{ 'contact.form.other' | t }}</option>
        </select>

        <label for="ContactFormMessage" class="hide">{{ 'contact.form.message' | t }}</label>
        <textarea rows="10"
          name="contact[body]"
          id="ContactFormMessage"
          placeholder="{{ 'contact.form.message' | t }} *"
          required />
          {%- if form.body -%}
            {{- form.body -}}
          {%- endif -%}
        </textarea>

        <div class="contact-body__form-footer">
          <span class="contact-body__form-note">{{ 'contact.form.required_fields' | t }}</span>
          <button class="contact-body__form-submit" type="submit">{{ 'contact.form.send' | t }}</button>
        </div>


      {% endform %}

    {% if section.settings.title != blank %}
      </div>
    {% else %}
      </div>
    {% endif %}
  </div>

  <div class="row">
    {% if section.settings.address_title != blank %}
      <div class="col-md-5">
        <h3 class="contact-body__form-title">
          {{ section.settings.address_title }}
        </h3>
      </div>
    {% endif %}

    {% if section.settings.address_title != blank %}
      <div class="col-md-7">
    {% else %}
      <div class="col-12">
    {% endif %}

      <div class="contact-body__address">{{ section.settings.address }}</div>

    {% if section.settings.address_title != blank %}
      </div>
    {% else %}
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
  {
    "name": "Content",
    "class": "contact-body",
    "settings": [
      {
        "type": "url",
        "id": "help_link_1",
        "label": "Phone Link"
      },
      {
        "type": "checkbox",
        "id": "help_1_is_modal",
        "label": "Is this a modal?",
        "default": true
      },
      {
        "type": "text",
        "id": "help_link_1_text",
        "label": "Phone Link Text"
      },
      {
        "type": "text",
        "id": "modal_1_title",
        "label": "Modal 1 title"
      },
      {
        "type": "url",
        "id": "modal_1_button_1",
        "label": "Modal 1 Btn 1 Link"
      },
      {
        "type": "text",
        "id": "modal_1_button_1_text",
        "label": "Modal 1 Btn 1 Text"
      },
      {
        "type": "url",
        "id": "modal_1_button_2",
        "label": "Modal 1 Btn 2 Link"
      },
      {
        "type": "text",
        "id": "modal_1_button_2_text",
        "label": "Modal 1 Btn 2 Text"
      },
      {
        "type": "textarea",
        "id": "modal_1_note",
        "label": "Modal 1 Note"
      },
      {
        "type": "url",
        "id": "help_link_2",
        "label": "Email Link"
      },
      {
        "type": "checkbox",
        "id": "help_2_is_modal",
        "label": "Is this a modal?",
        "default": true
      },
      {
        "type": "text",
        "id": "help_link_2_text",
        "label": "Email Link Text"
      },
      {
        "type": "text",
        "id": "modal_2_title",
        "label": "Modal 2 title"
      },
      {
        "type": "url",
        "id": "modal_2_button_1",
        "label": "Modal 2 Btn 1 Link"
      },
      {
        "type": "text",
        "id": "modal_2_button_1_text",
        "label": "Modal 2 Btn 1 Text"
      },
      {
        "type": "url",
        "id": "modal_2_button_2",
        "label": "Modal 2 Btn 2 Link"
      },
      {
        "type": "text",
        "id": "modal_2_button_2_text",
        "label": "Modal 2 Btn 2 Text"
      },
      {
        "type": "textarea",
        "id": "modal_2_note",
        "label": "Modal 2 Note"
      },
      {
        "type": "url",
        "id": "help_link_3",
        "label": "Chat Link"
      },
      {
        "type": "text",
        "id": "help_link_3_text",
        "label": "Chat Link Text"
      },
      {
        "type": "textarea",
        "id": "title",
        "label": "Form Title"
      },
      {
        "type": "textarea",
        "id": "address_title",
        "label": "Address Title"
      },
      {
        "type": "textarea",
        "id": "address",
        "label": "Address"
      }
    ]
  }
{% endschema %}
