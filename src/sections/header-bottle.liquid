{% if section.settings.enabled %}
  <a class="header-bottle__main-link" href="#" data-header-link="1">
    <span class="header-bottle__main-text">{{ section.settings.main_title }}</span>
    <span class="header-bottle__main-icon" aria-hidden="true">
      {% render 'icon-plus-vertical' %}
      {% render 'icon-plus-horizontal' %}
    </span>
  </a>

  <div class="header-bottle" data-header-block="1">
    <div class="header-bottle__body">
      <div class="container">
        <div class="row">
          {% if section.settings.video_embed != blank or section.settings.video != blank %}
            <div class="col-lg-6">
              <div class="header-bottle__content-wrap">
                <h2 class="header-bottle__c-title rsp">{{ section.settings.title }}</h2>
                <h4 class="header-bottle__c-subtitle rsp">{{ section.settings.subtitle }}{% render 'icon-chevron-down' %}</h4>
              </div>
              {% if section.settings.video != blank %}
                <div class="header-bottle__video">
                  <video autoplay loop muted playsinline>
                    <source src="{{- section.settings.video -}}" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
              {% elsif section.settings.video_embed != blank %}
                <div class="header-bottle__video" data-header-toggle-element style="display:none;">
                  {{ section.settings.video_embed }}
                </div>
              {% endif %}
            </div>
          {% endif %}

          {% if section.settings.video_embed != blank or section.settings.video != blank %}
            <div class="col-lg-6">
          {% else %}
            <div class="col-12">
          {% endif %}
            <div class="header-bottle__content-wrap">
              <h2 class="header-bottle__c-title desktop">{{ section.settings.title }}</h2>
              <style>
                @media (min-width:992px) {
                  .header-bottle .header-bottle__c-title.desktop {
                    font-size: {{ section.settings.title_font_size | append: 'px' }};
                    line-height: 1.3;
                    color: {{ section.settings.title_color }};
                  }
                }
              </style>
              <a href="{{ section.settings.subtitle_link }}" class="header-bottle__c-subtitle desktop">{{ section.settings.subtitle }}</a>
              <div class="header-bottle__c-content">{{ section.settings.content }}</div>
              {% if section.settings.link_text != blank %}
                <a
                  class="header-bottle__c-link"
                  href="{{ section.settings.link }}"
                  style="color:{{ section.settings.link_text_color }}; background-color:{{ section.settings.link_bg_color }}; font-size:{{ section.settings.link_font_size }}px; font-weight:{{ section.settings.link_font_weight }}; line-height: 1.25; background-image: none; box-shadow:none;"
                  tabindex="-1">{{ section.settings.link_text }}</a>
              {% endif %}
            </div>
          {% if section.settings.video_embed != blank or section.settings.video != blank %}
            </div>
          {% else %}
            </div>
          {% endif %}
        </div>
      </div>

      <div class="header-bottle__usps">
        <div class="header-bottle__usps-wave"></div>
        <div class="header-bottle__usps-c-wrap">
          <div class="container" data-accordion-parent-rsp=true>
            <div class="row">
              <div class="col-lg-3">
                <h5 class="header-bottle__usps-title">{{ section.settings.usp_title }}</h5>
              </div>

              {% if section.settings.usp_title_1 or section.settings.usp_content_1 %}
                <div class="col-lg-3">
                  <div class="header-bottle__usp">
                    <button type="button" class="header-bottle__usp-header" data-accordion-button-rsp="1" tabindex="-1">
                      <div class="header-bottle__usp-icon">
                        {% render 'icon' with section.settings.usp_icon_1 %}
                      </div>
                      <h5 class="header-bottle__usp-title">{{ section.settings.usp_title_1 }}</h5>
                      <span class="header-bottle__usp-closed">+</span>
                      <span class="header-bottle__usp-open">-</span>
                    </button>
                    <div class="header-bottle__usp-body" data-accordion-content-rsp="1">{{ section.settings.usp_content_1 }}</div>
                  </div>
                </div>
              {% endif %}

              {% if section.settings.usp_title_2 or section.settings.usp_content_2 %}
                <div class="col-lg-3">
                  <div class="header-bottle__usp">
                    <button class="header-bottle__usp-header" data-accordion-button-rsp="2" tabindex="-1">
                      <div class="header-bottle__usp-icon">
                        {% render 'icon' with section.settings.usp_icon_2 %}
                      </div>
                      <h5 class="header-bottle__usp-title">{{ section.settings.usp_title_2 }}</h5>
                      <span class="header-bottle__usp-closed">+</span>
                      <span class="header-bottle__usp-open">-</span>
                    </button>
                    <div class="header-bottle__usp-body" data-accordion-content-rsp="2">{{ section.settings.usp_content_2 }}</div>
                  </div>
                </div>
              {% endif %}

              {% if section.settings.usp_title_3 or section.settings.usp_content_3 %}
                <div class="col-lg-3">
                  <div class="header-bottle__usp">
                    <button class="header-bottle__usp-header" data-accordion-button-rsp="3" tabindex="-1">
                      <div class="header-bottle__usp-icon">
                        {% render 'icon' with section.settings.usp_icon_3 %}
                      </div>
                      <h5 class="header-bottle__usp-title">{{ section.settings.usp_title_3 }}</h5>
                      <span class="header-bottle__usp-closed">+</span>
                      <span class="header-bottle__usp-open">-</span>
                    </button>
                    <div class="header-bottle__usp-body" data-accordion-content-rsp="3">{{ section.settings.usp_content_3 }}</div>
                  </div>
                </div>
              {% endif %}

            </div>
          </div>
        </div>
      </div>

      <div class="header-bottle__close">
        <button type="button" class="header-bottle__close-btn" data-header-block-close="1" tabindex="-1">
          <span class="visually-hidden">{{ 'general.accessibility.close' | t }}</span>
          {% render 'icon-chevron-up' %}
        </button>
      </div>
    </div>
    <div class="header-bottle__overlay" data-header-block-close="1"></div>
  </div>
{% endif %}

{% schema %}
  {
    "name": "Header Bottle",
    "settings": [
      {
        "type": "checkbox",
        "id": "enabled",
        "label": "Show this menu",
        "default": true
      },
      {
        "type": "text",
        "id": "main_title",
        "label": "Bottle Link Title",
        "default": "The Bottle"
      },
      {
        "type": "textarea",
        "id": "title",
        "label": "Title"
      },
      {
        "type": "color",
        "id": "title_color",
        "label": "Title Color",
        "default": "#00aedb"
      },
      {
        "type": "range",
        "id": "title_font_size",
        "min": 12,
        "max": 60,
        "step": 1,
        "unit": "px",
        "label": "Title Font Size",
        "default": 40
      },
      {
        "type": "textarea",
        "id": "subtitle",
        "label": "Subtitle"
      },
	    {
        "type": "url",
        "id": "subtitle_link",
        "label": "Subtitle Link URL"
      },
      {
        "type": "textarea",
        "id": "content",
        "label": "Content"
      },
      {
        "type": "header",
        "content": "Main Button Settings"
      },
      {
        "type": "url",
        "id": "link",
        "label": "Link URL"
      },
      {
        "type": "text",
        "id": "link_text",
        "label": "Link Text"
      },
      {
        "type": "color",
        "id": "link_text_color",
        "label": "Link Text Color",
        "default": "#ffffff"
      },
      {
        "type": "color",
        "id": "link_bg_color",
        "label": "Link Background Color",
        "default": "#00d7ef"
      },
      {
        "type": "range",
        "id": "link_font_size",
        "label": "Link Font Size",
        "min": 10,
        "max": 30,
        "step": 1,
        "default": 14
      },
      {
        "type": "select",
        "id": "link_font_weight",
        "label": "Link Font Size",
        "default": "700",
        "options": [
          {
            "value": "400",
            "label": "Regular"
          },
          {
            "value": "500",
            "label": "Medium"
          },
          {
            "value": "700",
            "label": "bold"
          }
        ]
      },
      {
        "type": "textarea",
        "id": "video",
        "label": "Video",
        "info": "Upload a video to Shopify files and paste the source url here. Or paste the source url to a video here."
      },
      {
        "type": "range",
        "id": "video_width",
        "label": "Video Width",
        "min": 300,
        "max": 900,
        "step": 10,
        "default": 600
      },
      {
        "type": "range",
        "id": "video_height",
        "label": "Video Height",
        "min": 300,
        "max": 680,
        "step": 10,
        "default": 450
      },
      {
        "type": "textarea",
        "id": "video_embed",
        "label": "Video Embed",
        "info": "Or use an embed from youtube, vimeo or similar. Copy/paste the embed code here."
      },

      {
        "type": "textarea",
        "id": "usp_title",
        "label": "USPs Title"
      },
      {
        "type": "select",
        "id": "usp_icon_1",
        "label": "USP Icon 1",
        "options": [
          {
            "value": "alkaline",
            "label": "Alkaline"
          },
          {
            "value": "antioxidant",
            "label": "Antioxidant"
          },
          {
            "value": "infused",
            "label": "Infused"
          }
        ],
        "info": "Icon to be used."
      },
      {
        "type": "textarea",
        "id": "usp_title_1",
        "label": "USP Title 1"
      },
      {
        "type": "textarea",
        "id": "usp_content_1",
        "label": "USP Content 1"
      },
      {
        "type": "select",
        "id": "usp_icon_2",
        "label": "USP Icon 2",
        "options": [
          {
            "value": "alkaline",
            "label": "Alkaline"
          },
          {
            "value": "antioxidant",
            "label": "Antioxidant"
          },
          {
            "value": "infused",
            "label": "Infused"
          }
        ],
        "info": "Icon to be used."
      },
      {
        "type": "textarea",
        "id": "usp_title_2",
        "label": "USP Title 2"
      },
      {
        "type": "textarea",
        "id": "usp_content_2",
        "label": "USP Content 2"
      },
      {
        "type": "select",
        "id": "usp_icon_3",
        "label": "USP Icon 3",
        "options": [
          {
            "value": "alkaline",
            "label": "Alkaline"
          },
          {
            "value": "antioxidant",
            "label": "Antioxidant"
          },
          {
            "value": "infused",
            "label": "Infused"
          }
        ],
        "info": "Icon to be used."
      },
      {
        "type": "textarea",
        "id": "usp_title_3",
        "label": "USP Title 3"
      },
      {
        "type": "textarea",
        "id": "usp_content_3",
        "label": "USP Content 3"
      }
    ]
  }
{% endschema %}

